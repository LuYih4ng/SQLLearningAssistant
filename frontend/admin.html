<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员后台 - SQL学习助手</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="admin-view" class="active">
        <header class="admin-header">
            <h1>SQL 学习助手 - 管理员后台</h1>
            <div>
                <span>欢迎, <strong id="admin-username"></strong></span>
                <button id="change-password-btn" class="secondary-btn">修改密码</button>
                <button id="logout-btn">退出登录</button>
            </div>
        </header>
        <main class="admin-main">
            <!-- 批量生成题目 -->
            <section class="admin-card">
                <h2>批量生成题目草稿</h2>
                <div class="form-group-inline">
                    <input type="text" id="ai-topics" placeholder="知识点 (e.g., JOIN,GROUP BY)">
                    <input type="number" id="ai-count" min="1" max="10" value="3" placeholder="数量">
                    <select id="ai-llm-provider">
                        <option value="deepseek">DeepSeek</option>
                        <option value="qwen">通义千问</option>
                    </select>
                    <button id="batch-generate-btn">开始生成</button>
                </div>
            </section>
            
            <!-- 待审核题目列表 -->
            <section class="admin-card">
                <h2>待审核题目 (<span id="draft-count">0</span>)</h2>
                <div id="draft-list">
                    <!-- 题目草稿将在此动态插入 -->
                </div>
            </section>
        </main>
    </div>

    <!-- 题目审核/编辑 模态框 -->
    <div id="edit-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close-btn">&times;</span>
            <h2>审核/编辑题目</h2>
            <input type="hidden" id="edit-question-id">
            <div class="form-group">
                <label for="edit-title">题目名称:</label>
                <input type="text" id="edit-title">
            </div>
            <div class="form-group">
                <label for="edit-topics">知识点 (逗号分隔):</label>
                <input type="text" id="edit-topics">
            </div>
            <div class="form-group">
                <label for="edit-question-text">题目描述:</label>
                <textarea id="edit-question-text" rows="4"></textarea>
            </div>
            <div class="form-group">
                <label for="edit-setup-sql">数据库DDL & DML (建表/插数据):</label>
                <textarea id="edit-setup-sql" rows="8"></textarea>
            </div>
            <div class="form-group">
                <label for="edit-correct-sql">正确查询SQL:</label>
                <textarea id="edit-correct-sql" rows="5"></textarea>
            </div>
            <div class="modal-actions">
                <button id="update-btn">保存修改</button>
                <button id="publish-btn">审核通过并发布</button>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
